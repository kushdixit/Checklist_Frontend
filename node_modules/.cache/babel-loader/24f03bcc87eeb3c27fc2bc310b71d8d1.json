{"ast":null,"code":"import axios from 'axios';\nimport { showAppLoader, hideAppLoader } from 'redux/actions/loader';\nimport { USER_INITIATE } from 'redux/actions/action_types';\nimport { store } from 'redux/index';\nconst axioPath = axios.create({\n  // baseURL: process.env.PUBLIC_API_URL,\n  baseURL: 'https://checklist-dev.thewitslab.com/api/',\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\naxioPath.interceptors.request.use(function (config) {\n  // spinning start to show\n  if (!config.hideLoader) {\n    store.dispatch(showAppLoader());\n  }\n\n  return config;\n}, function (error) {\n  return Promise.reject(error);\n});\naxioPath.interceptors.response.use(function (response) {\n  // spinning hide\n  store.dispatch(hideAppLoader());\n  return response;\n}, function (error) {\n  if (error.request.status === 401) {\n    window.localStorage.removeItem('userInfo');\n    store.dispatch({\n      type: USER_INITIATE\n    });\n  }\n\n  store.dispatch(hideAppLoader());\n  return Promise.reject(error);\n});\nexport default axioPath;","map":{"version":3,"names":["axios","showAppLoader","hideAppLoader","USER_INITIATE","store","axioPath","create","baseURL","headers","interceptors","request","use","config","hideLoader","dispatch","error","Promise","reject","response","status","window","localStorage","removeItem","type"],"sources":["/Users/satvinder/Desktop/Projects/Checklist/Checklist/Checklist_Frontend/src/api/axioPath.js"],"sourcesContent":["import axios from 'axios'\nimport { showAppLoader, hideAppLoader } from 'redux/actions/loader'\nimport { USER_INITIATE } from 'redux/actions/action_types'\nimport { store } from 'redux/index'\n\nconst axioPath = axios.create({\n  // baseURL: process.env.PUBLIC_API_URL,\n  baseURL: 'https://checklist-dev.thewitslab.com/api/',\n  headers: {\n    'Content-Type': 'application/json',\n  },\n})\n\naxioPath.interceptors.request.use(\n  function (config) {\n    // spinning start to show\n    if (!config.hideLoader) {\n      store.dispatch(showAppLoader())\n    }\n    return config\n  },\n  function (error) {\n    return Promise.reject(error)\n  },\n)\n\naxioPath.interceptors.response.use(\n  function (response) {\n    // spinning hide\n    store.dispatch(hideAppLoader())\n    return response\n  },\n  function (error) {\n    if (error.request.status === 401) {\n      window.localStorage.removeItem('userInfo')\n      store.dispatch({ type: USER_INITIATE })\n    }\n     store.dispatch(hideAppLoader())\n    return Promise.reject(error)\n  },\n)\n\nexport default axioPath\n"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,aAAT,EAAwBC,aAAxB,QAA6C,sBAA7C;AACA,SAASC,aAAT,QAA8B,4BAA9B;AACA,SAASC,KAAT,QAAsB,aAAtB;AAEA,MAAMC,QAAQ,GAAGL,KAAK,CAACM,MAAN,CAAa;EAC5B;EACAC,OAAO,EAAE,2CAFmB;EAG5BC,OAAO,EAAE;IACP,gBAAgB;EADT;AAHmB,CAAb,CAAjB;AAQAH,QAAQ,CAACI,YAAT,CAAsBC,OAAtB,CAA8BC,GAA9B,CACE,UAAUC,MAAV,EAAkB;EAChB;EACA,IAAI,CAACA,MAAM,CAACC,UAAZ,EAAwB;IACtBT,KAAK,CAACU,QAAN,CAAeb,aAAa,EAA5B;EACD;;EACD,OAAOW,MAAP;AACD,CAPH,EAQE,UAAUG,KAAV,EAAiB;EACf,OAAOC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACD,CAVH;AAaAV,QAAQ,CAACI,YAAT,CAAsBS,QAAtB,CAA+BP,GAA/B,CACE,UAAUO,QAAV,EAAoB;EAClB;EACAd,KAAK,CAACU,QAAN,CAAeZ,aAAa,EAA5B;EACA,OAAOgB,QAAP;AACD,CALH,EAME,UAAUH,KAAV,EAAiB;EACf,IAAIA,KAAK,CAACL,OAAN,CAAcS,MAAd,KAAyB,GAA7B,EAAkC;IAChCC,MAAM,CAACC,YAAP,CAAoBC,UAApB,CAA+B,UAA/B;IACAlB,KAAK,CAACU,QAAN,CAAe;MAAES,IAAI,EAAEpB;IAAR,CAAf;EACD;;EACAC,KAAK,CAACU,QAAN,CAAeZ,aAAa,EAA5B;EACD,OAAOc,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACD,CAbH;AAgBA,eAAeV,QAAf"},"metadata":{},"sourceType":"module"}