{"ast":null,"code":"import axios from'axios';import{showAppLoader,hideAppLoader}from'redux/actions/loader';import{USER_INITIATE}from'redux/actions/action_types';import{store}from'redux/index';var axioPath=axios.create({// baseURL: process.env.PUBLIC_API_URL,\nbaseURL:'https://checklist-dev.thewitslab.com/api/',headers:{'Content-Type':'application/json'}});axioPath.interceptors.request.use(function(config){// spinning start to show\nif(!config.hideLoader){store.dispatch(showAppLoader());}return config;},function(error){return Promise.reject(error);});axioPath.interceptors.response.use(function(response){// spinning hide\nstore.dispatch(hideAppLoader());return response;},function(error){if(error.request.status===401){window.localStorage.removeItem('userInfo');store.dispatch({type:USER_INITIATE});}store.dispatch(hideAppLoader());return Promise.reject(error);});export default axioPath;","map":{"version":3,"names":["axios","showAppLoader","hideAppLoader","USER_INITIATE","store","axioPath","create","baseURL","headers","interceptors","request","use","config","hideLoader","dispatch","error","Promise","reject","response","status","window","localStorage","removeItem","type"],"sources":["/Users/satvinder/Desktop/Projects/Checklist/Checklist/Checklist_Frontend/src/api/axioPath.js"],"sourcesContent":["import axios from 'axios'\nimport { showAppLoader, hideAppLoader } from 'redux/actions/loader'\nimport { USER_INITIATE } from 'redux/actions/action_types'\nimport { store } from 'redux/index'\n\nconst axioPath = axios.create({\n  // baseURL: process.env.PUBLIC_API_URL,\n  baseURL: 'https://checklist-dev.thewitslab.com/api/',\n  headers: {\n    'Content-Type': 'application/json',\n  },\n})\n\naxioPath.interceptors.request.use(\n  function (config) {\n    // spinning start to show\n    if (!config.hideLoader) {\n      store.dispatch(showAppLoader())\n    }\n    return config\n  },\n  function (error) {\n    return Promise.reject(error)\n  },\n)\n\naxioPath.interceptors.response.use(\n  function (response) {\n    // spinning hide\n    store.dispatch(hideAppLoader())\n    return response\n  },\n  function (error) {\n    if (error.request.status === 401) {\n      window.localStorage.removeItem('userInfo')\n      store.dispatch({ type: USER_INITIATE })\n    }\n     store.dispatch(hideAppLoader())\n    return Promise.reject(error)\n  },\n)\n\nexport default axioPath\n"],"mappings":"AAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,OAASC,aAAT,CAAwBC,aAAxB,KAA6C,sBAA7C,CACA,OAASC,aAAT,KAA8B,4BAA9B,CACA,OAASC,KAAT,KAAsB,aAAtB,CAEA,GAAMC,SAAQ,CAAGL,KAAK,CAACM,MAAN,CAAa,CAC5B;AACAC,OAAO,CAAE,2CAFmB,CAG5BC,OAAO,CAAE,CACP,eAAgB,kBADT,CAHmB,CAAb,CAAjB,CAQAH,QAAQ,CAACI,YAAT,CAAsBC,OAAtB,CAA8BC,GAA9B,CACE,SAAUC,MAAV,CAAkB,CAChB;AACA,GAAI,CAACA,MAAM,CAACC,UAAZ,CAAwB,CACtBT,KAAK,CAACU,QAAN,CAAeb,aAAa,EAA5B,EACD,CACD,MAAOW,OAAP,CACD,CAPH,CAQE,SAAUG,KAAV,CAAiB,CACf,MAAOC,QAAO,CAACC,MAAR,CAAeF,KAAf,CAAP,CACD,CAVH,EAaAV,QAAQ,CAACI,YAAT,CAAsBS,QAAtB,CAA+BP,GAA/B,CACE,SAAUO,QAAV,CAAoB,CAClB;AACAd,KAAK,CAACU,QAAN,CAAeZ,aAAa,EAA5B,EACA,MAAOgB,SAAP,CACD,CALH,CAME,SAAUH,KAAV,CAAiB,CACf,GAAIA,KAAK,CAACL,OAAN,CAAcS,MAAd,GAAyB,GAA7B,CAAkC,CAChCC,MAAM,CAACC,YAAP,CAAoBC,UAApB,CAA+B,UAA/B,EACAlB,KAAK,CAACU,QAAN,CAAe,CAAES,IAAI,CAAEpB,aAAR,CAAf,EACD,CACAC,KAAK,CAACU,QAAN,CAAeZ,aAAa,EAA5B,EACD,MAAOc,QAAO,CAACC,MAAR,CAAeF,KAAf,CAAP,CACD,CAbH,EAgBA,cAAeV,SAAf"},"metadata":{},"sourceType":"module"}